# RoboLab Production Environment Configuration
# Copy this file to .env and update with your actual values

# Server Configuration
PORT=3001
NODE_ENV=production
CORS_ORIGIN=https://your-frontend-domain.com

# Database URLs
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/robo_lab?retryWrites=true&w=majority
REDIS_URL=redis://your-redis-host:6379
REDIS_PASSWORD=your_redis_password

# Firebase Configuration
FIREBASE_PROJECT_ID=your_firebase_project_id
FIREBASE_PRIVATE_KEY_ID=your_firebase_private_key_id
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nyour_firebase_private_key\n-----END PRIVATE KEY-----\n"
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project.iam.gserviceaccount.com
FIREBASE_CLIENT_ID=your_firebase_client_id
FIREBASE_AUTH_URI=https://accounts.google.com/o/oauth2/auth
FIREBASE_TOKEN_URI=https://oauth2.googleapis.com/token
FIREBASE_AUTH_PROVIDER_X509_CERT_URL=https://www.googleapis.com/oauth2/v1/certs
FIREBASE_CLIENT_X509_CERT_URL=https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-xxxxx%40your-project.iam.gserviceaccount.com

# JWT Configuration
JWT_SECRET=your_very_long_and_secure_jwt_secret_key_here_make_it_at_least_64_characters_long_for_production_security
JWT_EXPIRES_IN=7d

# AI Services
OPENAI_API_KEY=sk-your_openai_api_key_here
OPENAI_MODEL=gpt-4
AI_DAILY_LIMIT=50

# File Upload
UPLOAD_MAX_SIZE=10485760
ALLOWED_FILE_TYPES=image/jpeg,image/png,application/pdf,application/json

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000

# Email Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password
FROM_EMAIL=noreply@robolab.pk

# Logging
LOG_LEVEL=info
LOG_FILE=logs/app.log

# Security
BCRYPT_ROUNDS=12
SESSION_SECRET=your_session_secret_key_here_make_it_very_long_and_secure

# External APIs
GOOGLE_MAPS_API_KEY=your_google_maps_key
WEATHER_API_KEY=your_weather_api_key

# Monitoring
SENTRY_DSN=your_sentry_dsn_here
HEALTH_CHECK_INTERVAL=30000

# Development
DEBUG_MODE=false
ENABLE_SWAGGER=false
ENABLE_CORS=true

# Load Balancer Configuration
LOAD_BALANCER_ENABLED=true
WORKER_PROCESSES=max

# Cache Configuration
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# Database Connection Pool
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_IDLE_TIMEOUT=30000

# WebSocket Configuration
WS_HEARTBEAT_INTERVAL=30000
WS_HEARTBEAT_TIMEOUT=60000
WS_MAX_CONNECTIONS=1000

# File Storage
STORAGE_PROVIDER=firebase
STORAGE_BUCKET=your-firebase-storage-bucket

# CDN Configuration
CDN_URL=https://your-cdn-domain.com
CDN_ENABLED=true

# Analytics
ANALYTICS_ENABLED=true
GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX

# Performance
ENABLE_COMPRESSION=true
ENABLE_CACHING=true
CACHE_STRATEGY=redis

# Security Headers
SECURITY_HEADERS_ENABLED=true
CSP_ENABLED=true
HSTS_ENABLED=true

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# Alerting
ALERT_EMAIL=admin@robolab.pk
ALERT_WEBHOOK_URL=your_slack_webhook_url

# Feature Flags
FEATURE_AI_ASSISTANT=true
FEATURE_CIRCUIT_SIMULATION=true
FEATURE_REAL_TIME_COLLABORATION=true
FEATURE_PAYMENT_PROCESSING=false
FEATURE_MOBILE_APP=true

# API Versioning
API_VERSION=v1
API_DEPRECATION_WARNING=true

# Maintenance Mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=We are currently performing scheduled maintenance. Please check back soon.

# Performance Monitoring
PERFORMANCE_MONITORING=true
SLOW_QUERY_THRESHOLD=1000
MEMORY_ALERT_THRESHOLD=80

# Error Tracking
ERROR_TRACKING=true
ERROR_SAMPLE_RATE=1.0

# User Limits
MAX_PROJECTS_PER_USER=100
MAX_CIRCUITS_PER_PROJECT=50
MAX_FILE_SIZE=10485760
MAX_FILES_PER_PROJECT=100

# Session Configuration
SESSION_TIMEOUT=86400000
SESSION_CLEANUP_INTERVAL=3600000
SESSION_MAX_AGE=86400000

# Rate Limiting by User
USER_RATE_LIMIT=1000
USER_RATE_WINDOW=3600000

# API Rate Limiting
API_RATE_LIMIT=10000
API_RATE_WINDOW=3600000

# WebSocket Rate Limiting
WS_RATE_LIMIT=100
WS_RATE_WINDOW=60000

# Database Query Limits
MAX_QUERY_LIMIT=1000
DEFAULT_QUERY_LIMIT=50

# File Upload Limits
MAX_UPLOAD_SIZE=10485760
ALLOWED_UPLOAD_TYPES=image/jpeg,image/png,application/pdf,application/json,text/plain

# Circuit Simulation Limits
MAX_SIMULATION_TIME=300000
MAX_CIRCUIT_COMPONENTS=1000
MAX_CIRCUIT_CONNECTIONS=2000

# AI Assistant Limits
AI_MAX_TOKENS=4000
AI_MAX_REQUESTS_PER_HOUR=100
AI_MAX_REQUESTS_PER_DAY=1000

# Real-time Collaboration Limits
MAX_COLLABORATORS_PER_PROJECT=10
MAX_CONCURRENT_EDITORS=5
COLLABORATION_TIMEOUT=300000

# Notification Limits
MAX_NOTIFICATIONS_PER_USER=1000
NOTIFICATION_CLEANUP_DAYS=30

# Log Retention
LOG_RETENTION_DAYS=90
ERROR_LOG_RETENTION_DAYS=365
ACCESS_LOG_RETENTION_DAYS=30

# Health Check Configuration
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_RETRIES=3

# Graceful Shutdown
SHUTDOWN_TIMEOUT=30000
SHUTDOWN_SIGNAL=SIGTERM

# Process Management
MAX_RESTARTS=5
RESTART_DELAY=1000
RESTART_WINDOW=60000

# Memory Management
MAX_MEMORY_USAGE=1024
MEMORY_CHECK_INTERVAL=30000
MEMORY_CLEANUP_THRESHOLD=80

# CPU Management
MAX_CPU_USAGE=80
CPU_CHECK_INTERVAL=30000
CPU_THROTTLE_THRESHOLD=90

# Network Configuration
KEEP_ALIVE_TIMEOUT=5000
KEEP_ALIVE_INTERVAL=1000
MAX_HEADERS_COUNT=2000
MAX_HEADER_SIZE=16384

# SSL Configuration
SSL_ENABLED=true
SSL_CERT_PATH=/etc/ssl/certs/robolab.crt
SSL_KEY_PATH=/etc/ssl/private/robolab.key
SSL_CA_PATH=/etc/ssl/certs/ca-bundle.crt

# CORS Configuration
CORS_ORIGINS=https://your-frontend-domain.com,https://www.your-frontend-domain.com
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=Content-Type,Authorization,X-Requested-With
CORS_CREDENTIALS=true

# API Documentation
API_DOCS_ENABLED=false
API_DOCS_PATH=/api-docs
API_DOCS_AUTH_REQUIRED=true

# Metrics Collection
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics

# Tracing
TRACING_ENABLED=true
TRACE_SAMPLE_RATE=0.1
TRACE_EXPORT_INTERVAL=5000

# Profiling
PROFILING_ENABLED=false
PROFILE_SAMPLE_RATE=0.01
PROFILE_DURATION=30000
